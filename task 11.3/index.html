<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>task 11.3</title>
</head>
<body>
    <script>
const data = [
{
name: "John",
birthday: "1-1-1995",
favoriteFoods: {
meats: ["hamburgers", "sausages"],
fish: ["salmon", "pike"],
},
},
{
name: "Mark",
birthday: "10-5-1980",
favoriteFoods: {
meats: ["hamburgers", "steak", "lamb"],
fish: ["tuna", "salmon", "barracuda"],
},
},
{
name: "Mary",
birthday: "1-10-1977",
favoriteFoods: {
meats: ["ham", "chicken"],
fish: ["pike"],
},
},
{
name: "Thomas",
birthday: "1-10-1990",
favoriteFoods: {
meats: ["bird", "rooster"],
fish: ["salmon"],
},
},
{
name: "Mary",
birthday: "1-10-1977",
favoriteFoods: {
meats: ["hamburgers", "lamb"],
fish: ["anchovies", "tuna"],
},
},
];
    function Name(names){
        const personName = [];
        names.forEach((name) => {
            personName.push({
                name: name.name
            })
        })
        return personName;
    }
    console.log(Name(data));

    function filterByBirthday(data) {
    const threshold = new Date("1-1-1990");
    return data.map(person => {
    person.birthday = new Date(person.birthday);
    return person;
    }).filter(person => person.birthday < threshold);
    }

    const filteredData = filterByBirthday(data);
    console.log(filteredData);

    function countFoods(data) {
    let allFoods = data.map(person => {
    return [...person.favoriteFoods.meats, ...person.favoriteFoods.fish];
    }).flat();
    let foodCount = {};
    for (let food of allFoods) {
    foodCount[food] = (foodCount[food] || 0) + 1;
  }
  return foodCount;
  }
  const foodCount = countFoods(data);
  console.log(foodCount);


    </script>
</body>
</html>